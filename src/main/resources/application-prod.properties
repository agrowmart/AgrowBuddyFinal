# ===============================
# Application
# ===============================
spring.application.name=AgrowMartBackend
server.port=${PORT}
server.address=0.0.0.0

spring.jackson.serialization.fail-on-empty-beans=false

# ===============================
# Database (ENV BASED)
# ===============================
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false

# ===============================
# JPA / Hibernate
# ===============================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false

# ===============================
# Multipart / File Upload
# ===============================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=2MB
spring.servlet.multipart.max-request-size=2MB


# ===============================
# JWT
# ===============================
jwt.secret=${JWT_SECRET}
jwt.expiration-ms=${JWT_EXPIRATION_MS}

# ===============================
# Logging
# ===============================
logging.level.org.springframework=INFO
logging.level.org.hibernate.SQL=ERROR
logging.level.com.agrowmart=DEBUG
logging.level.org.springframework.security=INFO

# ===============================
# Fast2SMS
# ===============================
fast2sms.authorization=${FAST2SMS_AUTH}
fast2sms.sender_id=${FAST2SMS_SENDER}
fast2sms.route=${FAST2SMS_ROUTE}
fast2sms.base-url=https://www.fast2sms.com/dev/bulkV2

# ===============================
# Cloudinary
# ===============================
cloudinary.cloud_name=${CLOUDINARY_CLOUD}
cloudinary.api_key=${CLOUDINARY_KEY}
cloudinary.api_secret=${CLOUDINARY_SECRET}
cloudinary.folder=${CLOUDINARY_FOLDER:frontend}

# ===============================
# OAuth2 - Google
# ===============================
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=email,profile
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/login/oauth2/code/google
spring.security.oauth2.client.registration.google.client-name=Google

# ===============================
# OAuth2 - Facebook
# ===============================
spring.security.oauth2.client.registration.facebook.client-id=${FACEBOOK_APP_ID}
spring.security.oauth2.client.registration.facebook.client-secret=${FACEBOOK_APP_SECRET}
spring.security.oauth2.client.registration.facebook.scope=email,public_profile
spring.security.oauth2.client.registration.facebook.redirect-uri={baseUrl}/login/oauth2/code/facebook
spring.security.oauth2.client.registration.facebook.client-name=Facebook

spring.security.oauth2.client.provider.facebook.authorization-uri=https://www.facebook.com/v20.0/dialog/oauth
spring.security.oauth2.client.provider.facebook.token-uri=https://graph.facebook.com/v20.0/oauth/access_token
spring.security.oauth2.client.provider.facebook.user-info-uri=https://graph.facebook.com/v20.0/me?fields=id,name,email,first_name,last_name

# ===============================
# Razorpay
# ===============================
razorpay.key=${RAZORPAY_KEY}
razorpay.secret=${RAZORPAY_SECRET}
razorpay.webhook.secret=${RAZORPAY_WEBHOOK_SECRET}
razorpayx.account=${RAZORPAYX_ACCOUNT}

# ===============================
# Scheduler
# ===============================
spring.task.scheduling.pool.size=10

# ===============================
# HikariCP (Production Safe)
# ===============================
spring.datasource.hikari.maximum-pool-size=50
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# ===============================
# Tomcat Threads
# ===============================
server.tomcat.threads.max=300
server.tomcat.threads.min-spare=20

# ===============================
# Error Handling
# ===============================
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=never
server.error.include-exception=false

# ===============================
# Actuator
# ===============================
management.endpoints.web.exposure.include=health,metrics
management.endpoint.health.show-details=always

# ===============================
# Redis (Optional â€“ ENV)
# ===============================
spring.data.redis.host=${REDIS_HOST}
spring.data.redis.port=${REDIS_PORT}

# ===============================
# TEMP (REMOVE LATER)
# ===============================
spring.main.allow-circular-references=true


#dir
file.upload-dir=${FILE_UPLOAD_DIR:/tmp/uploads}